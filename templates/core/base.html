<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Cadmium{% endblock %}</title>
    {% load static %}
    <!-- Favicon -->
    <link rel="icon" type="image/png" sizes="32x32" href="{% static 'images/logo/favicon.png' %}">
    <link rel="icon" type="image/png" sizes="16x16" href="{% static 'images/logo/favicon.png' %}">
    <link rel="shortcut icon" type="image/png" href="{% static 'images/logo/favicon.png' %}">
    <link rel="apple-touch-icon" sizes="180x180" href="{% static 'images/logo/favicon.png' %}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="{% static 'css/styles.css' %}">
    <script src="{% static 'js/logo-loader.js' %}" defer></script>
    <script src="{% static 'js/messages.js' %}" defer></script>
    {% block extra_css %}{% endblock %}
</head>
<body>
    <!-- Navbar Global -->
    <nav class="navbar">
        <a href="{% url 'index' %}" class="navbar-brand">
            <div class="navbar-logo">
                <img src="{% static 'images/logo/logo.png' %}" alt="Cadmium Logo" class="navbar-logo-img" data-logo-svg="{% static 'images/logo/logo.svg' %}" onerror="handleLogoError(this)">
                <span class="logo-fallback" style="display: none;">C</span>
            </div>
            <div>
                <div class="brand-name-container">
                    <span>Cadmium</span>
                    <span class="storage-text">Storage</span>
                </div>
                <span class="tagline">Crea tu mundo</span>
            </div>
        </a>
        <div class="navbar-nav">
            <div class="dropdown">
                <a href="#" class="dropdown-toggle nav-link" onclick="toggleDropdown(event)">
                    <span class="hamburger-icon">
                        <span></span>
                        <span></span>
                        <span></span>
                    </span>
                </a>
                <div class="dropdown-menu">
                    {% if user.is_authenticated %}
                        <span class="dropdown-item welcome-item">游녦 Bienvenido/a {{ user.nombre|default:user.username }}</span>
                        {% if user.es_administrador or user.is_superuser %}
                            <a href="{% url 'panel' %}" class="dropdown-item">游늵 Mi Panel</a>
                        {% elif user.es_empleado %}
                            <a href="{% url 'trabajador_dashboard' %}" class="dropdown-item">游늵 Mi Panel</a>
                        {% endif %}
                    {% else %}
                        <a href="{% url 'login' %}" class="dropdown-item">游댏 Iniciar Sesi칩n</a>
                    {% endif %}
                    <a href="{% url 'contactanos' %}" class="dropdown-item">游 Cont치ctanos</a>
                    <a href="{% url 'documentacion' %}" class="dropdown-item">游닄 Documentaci칩n</a>
                    {% if user.is_authenticated %}
                        <a href="{% url 'logout' %}" class="dropdown-item">游뛁 Cerrar Sesi칩n</a>
                    {% endif %}
                </div>
            </div>
        </div>
    </nav>

    {% block content %}{% endblock %}
    {% block extra_js %}{% endblock %}

    <script>
        function toggleDropdown(event) {
            event.preventDefault();
            const dropdown = event.currentTarget.closest('.dropdown');
            dropdown.classList.toggle('active');
        }
        document.addEventListener('click', function(event) {
            const dropdowns = document.querySelectorAll('.dropdown');
            dropdowns.forEach(dropdown => {
                if (!dropdown.contains(event.target)) {
                    dropdown.classList.remove('active');
                }
            });
        });
    </script>
</body>
</html>




